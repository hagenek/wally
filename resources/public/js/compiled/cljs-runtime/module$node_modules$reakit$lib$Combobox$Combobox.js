shadow$provide.module$node_modules$reakit$lib$Combobox$Combobox=function(global,require,module,exports){function getControls(baseId,ariaControls){baseId=getMenuId.getMenuId(baseId);return ariaControls?ariaControls+" "+baseId:baseId}function isFirstItemAutoSelected(items,autoSelect,currentId){if(!autoSelect)return!1;items=items.find(function(item){return!item.disabled});return currentId&&(null===items||void 0===items?void 0:items.id)===currentId}function hasCompletionString(inputValue,currentValue){return!!currentValue&&
currentValue.length>inputValue.length&&0===currentValue.toLowerCase().indexOf(inputValue.toLowerCase())}function useValue(options){return React.useMemo(function(){if(!options.inline)return options.inputValue;if(isFirstItemAutoSelected(options.items,options.autoSelect,options.currentId)){if(hasCompletionString(options.inputValue,options.currentValue)){var JSCompiler_temp_const=options.inputValue;var JSCompiler_inline_result=options.inputValue;var currentValue=options.currentValue;if(currentValue){var index=
currentValue.toLowerCase().indexOf(JSCompiler_inline_result.toLowerCase());JSCompiler_inline_result=currentValue.slice(index+JSCompiler_inline_result.length)}else JSCompiler_inline_result="";return JSCompiler_temp_const+JSCompiler_inline_result}return options.inputValue}return options.currentValue||options.inputValue},[options.inline,options.inputValue,options.autoSelect,options.items,options.currentId,options.currentValue])}function getFirstEnabledItemId(items){var _items$find;return null===(_items$find=
items.find(function(item){return!item.disabled}))||void 0===_items$find?void 0:_items$find.id}Object.defineProperty(exports,"__esModule",{value:!0});var _rollupPluginBabelHelpers=require("module$node_modules$reakit$lib$_rollupPluginBabelHelpers_8f9a8751");global=require("module$node_modules$reakit_system$lib$createComponent");module=require("module$node_modules$reakit_system$lib$createHook");require("module$node_modules$reakit_utils$lib$shallowEqual");var React=require("module$node_modules$react$index"),
useForkRef=require("module$node_modules$reakit_utils$lib$useForkRef");require("module$node_modules$reakit_utils$lib$isButton");var reakitWarning=require("module$node_modules$reakit_warning$lib$index"),useLiveRef=require("module$node_modules$reakit_utils$lib$useLiveRef");require("module$node_modules$reakit_utils$lib$isSelfTarget");require("module$node_modules$reakit_utils$lib$useIsomorphicEffect");require("module$node_modules$reakit_utils$lib$hasFocusWithin");require("module$node_modules$reakit_utils$lib$isPortalEvent");
require("module$node_modules$reakit_utils$lib$dom");require("module$node_modules$reakit_utils$lib$tabbable");require("module$node_modules$reakit$lib$Role$Role");require("module$node_modules$reakit$lib$Tabbable$Tabbable");var useUpdateEffect=require("module$node_modules$reakit_utils$lib$useUpdateEffect");require("module$node_modules$reakit_system$lib$useCreateElement");require("module$node_modules$reakit_utils$lib$getDocument");require("module$node_modules$reakit_utils$lib$fireBlurEvent");require("module$node_modules$reakit_utils$lib$fireKeyboardEvent");
require("module$node_modules$reakit_utils$lib$canUseDOM");require("module$node_modules$reakit_utils$lib$getNextActiveElementOnBlur");require("module$node_modules$reakit$lib$reverse_4756a49e");require("module$node_modules$reakit$lib$getCurrentId_eade2850");require("module$node_modules$reakit$lib$findEnabledItemById_03112678");require("module$node_modules$reakit$lib$__keys_3b597476");require("module$node_modules$reakit$lib$userFocus_0afea51a");var Composite_Composite=require("module$node_modules$reakit$lib$Composite$Composite"),
__keys=require("module$node_modules$reakit$lib$__keys_a7141fdd"),getMenuId=require("module$node_modules$reakit$lib$getMenuId_ae301adb");require=module.createHook({name:"Combobox",compose:Composite_Composite.useComposite,keys:__keys.COMBOBOX_KEYS,useOptions:function(_ref){var _ref$menuRole=_ref.menuRole;_ref$menuRole=void 0===_ref$menuRole?"listbox":_ref$menuRole;var _ref$hideOnEsc=_ref.hideOnEsc;_ref$hideOnEsc=void 0===_ref$hideOnEsc?!0:_ref$hideOnEsc;_ref=_rollupPluginBabelHelpers._objectWithoutPropertiesLoose(_ref,
["menuRole","hideOnEsc"]);return _rollupPluginBabelHelpers._objectSpread2({menuRole:_ref$menuRole,hideOnEsc:_ref$hideOnEsc},_ref)},useProps:function(options,_ref2){var htmlRef=_ref2.ref,htmlOnKeyDown=_ref2.onKeyDown,htmlOnKeyPress=_ref2.onKeyPress,htmlOnChange=_ref2.onChange,htmlOnClick=_ref2.onClick,htmlOnBlur=_ref2.onBlur,ariaControls=_ref2["aria-controls"];_ref2=_rollupPluginBabelHelpers._objectWithoutPropertiesLoose(_ref2,"ref onKeyDown onKeyPress onChange onClick onBlur aria-controls".split(" "));
var ref=React.useRef(null),_React$useReducer=React.useReducer(function(){return{}},{}),updated=_React$useReducer[0],update=_React$useReducer[1],onKeyDownRef=useLiveRef.useLiveRef(htmlOnKeyDown),onKeyPressRef=useLiveRef.useLiveRef(htmlOnKeyPress),onChangeRef=useLiveRef.useLiveRef(htmlOnChange),onClickRef=useLiveRef.useLiveRef(htmlOnClick),onBlurRef=useLiveRef.useLiveRef(htmlOnBlur),value=useValue(options),hasInsertedTextRef=React.useRef(!1);React.useEffect(function(){if(options.inline&&options.autoSelect&&
options.currentValue&&options.currentId===getFirstEnabledItemId(options.items)&&hasCompletionString(options.inputValue,options.currentValue)){var element=ref.current;reakitWarning.warning(!element,"Can't auto select combobox because `ref` wasn't passed to the component","See https://reakit.io/docs/combobox");null===element||void 0===element?void 0:element.setSelectionRange(options.inputValue.length,options.currentValue.length)}},[updated,options.inline,options.autoSelect,options.currentValue,options.inputValue,
options.currentId,options.items]);useUpdateEffect.useUpdateEffect(function(){options.autoSelect&&options.items.length&&hasInsertedTextRef.current?options.setCurrentId(void 0):options.setCurrentId(null)},[options.items,options.inputValue,options.autoSelect,options.setCurrentId]);htmlOnKeyDown=React.useCallback(function(event){var _onKeyDownRef$current;null===(_onKeyDownRef$current=onKeyDownRef.current)||void 0===_onKeyDownRef$current?void 0:_onKeyDownRef$current.call(onKeyDownRef,event);hasInsertedTextRef.current=
!1;if(!event.defaultPrevented&&"Escape"===event.key&&options.hideOnEsc){var _options$hide;null===(_options$hide=options.hide)||void 0===_options$hide?void 0:_options$hide.call(options)}},[options.hideOnEsc,options.hide]);htmlOnKeyPress=React.useCallback(function(event){var _onKeyPressRef$curren;null===(_onKeyPressRef$curren=onKeyPressRef.current)||void 0===_onKeyPressRef$curren?void 0:_onKeyPressRef$curren.call(onKeyPressRef,event);hasInsertedTextRef.current=!0},[]);htmlOnChange=React.useCallback(function(event){var _onChangeRef$current,
_options$show,_options$setInputValu;null===(_onChangeRef$current=onChangeRef.current)||void 0===_onChangeRef$current?void 0:_onChangeRef$current.call(onChangeRef,event);if(!event.defaultPrevented)if(null===(_options$show=options.show)||void 0===_options$show?void 0:_options$show.call(options),null===(_options$setInputValu=options.setInputValue)||void 0===_options$setInputValu?void 0:_options$setInputValu.call(options,event.target.value),update(),options.autoSelect&&hasInsertedTextRef.current){var _options$setCurrentId2;
null===(_options$setCurrentId2=options.setCurrentId)||void 0===_options$setCurrentId2?void 0:_options$setCurrentId2.call(options,void 0)}else{var _options$setCurrentId;null===(_options$setCurrentId=options.setCurrentId)||void 0===_options$setCurrentId?void 0:_options$setCurrentId.call(options,null)}},[options.show,options.autoSelect,options.setCurrentId,options.setInputValue]);htmlOnClick=React.useCallback(function(event){var _onClickRef$current,_options$setCurrentId3;null===(_onClickRef$current=
onClickRef.current)||void 0===_onClickRef$current?void 0:_onClickRef$current.call(onClickRef,event);if(!event.defaultPrevented){if(!options.minValueLength||value.length>=options.minValueLength){var _options$show2;null===(_options$show2=options.show)||void 0===_options$show2?void 0:_options$show2.call(options)}null===(_options$setCurrentId3=options.setCurrentId)||void 0===_options$setCurrentId3?void 0:_options$setCurrentId3.call(options,null);options.setInputValue(value)}},[options.show,options.setCurrentId,
options.setInputValue,options.minValueLength,value]);htmlOnBlur=React.useCallback(function(event){var _onBlurRef$current;null===(_onBlurRef$current=onBlurRef.current)||void 0===_onBlurRef$current?void 0:_onBlurRef$current.call(onBlurRef,event);event.defaultPrevented||options.setInputValue(value)},[options.setInputValue,value]);return _rollupPluginBabelHelpers._objectSpread2({ref:useForkRef.useForkRef(ref,useForkRef.useForkRef(options.unstable_referenceRef,htmlRef)),role:"combobox",autoComplete:"off",
"aria-controls":getControls(options.baseId,ariaControls),"aria-haspopup":options.menuRole,"aria-expanded":options.visible,"aria-autocomplete":options.list&&options.inline?"both":options.list?"list":options.inline?"inline":"none",value,onKeyDown:htmlOnKeyDown,onKeyPress:htmlOnKeyPress,onChange:htmlOnChange,onClick:htmlOnClick,onBlur:htmlOnBlur},_ref2)},useComposeProps:function(options,_ref3){var onKeyUp=_ref3.onKeyUp,htmlOnKeyDownCapture=_ref3.onKeyDownCapture,htmlOnKeyDown=_ref3.onKeyDown;_ref3=_rollupPluginBabelHelpers._objectWithoutPropertiesLoose(_ref3,
["onKeyUp","onKeyDownCapture","onKeyDown"]);var compositeHTMLProps=Composite_Composite.useComposite(options,_ref3,!0),onKeyDownCaptureRef=useLiveRef.useLiveRef(htmlOnKeyDownCapture),onKeyDownRef=useLiveRef.useLiveRef(htmlOnKeyDown);htmlOnKeyDownCapture=React.useCallback(function(event){var _onKeyDownCaptureRef$,_compositeHTMLProps$o;null===(_onKeyDownCaptureRef$=onKeyDownCaptureRef.current)||void 0===_onKeyDownCaptureRef$?void 0:_onKeyDownCaptureRef$.call(onKeyDownCaptureRef,event);event.defaultPrevented||
"grid"!==options.menuRole&&("Home"===event.key||"End"===event.key)||1===event.key.length||(null===(_compositeHTMLProps$o=compositeHTMLProps.onKeyDownCapture)||void 0===_compositeHTMLProps$o?void 0:_compositeHTMLProps$o.call(compositeHTMLProps,event))},[options.menuRole,compositeHTMLProps.onKeyDownCapture]);htmlOnKeyDown=React.useCallback(function(event){var _onKeyDownRef$current2,_compositeHTMLProps$o2;null===(_onKeyDownRef$current2=onKeyDownRef.current)||void 0===_onKeyDownRef$current2?void 0:_onKeyDownRef$current2.call(onKeyDownRef,
event);if(!event.defaultPrevented&&null===options.currentId&&"ArrowLeft"!==event.key&&"ArrowRight"!==event.key&&"Home"!==event.key&&"End"!==event.key){if(!(event.ctrlKey||event.altKey||event.shiftKey||event.metaKey||"ArrowUp"!==event.key&&"ArrowDown"!==event.key&&1!==event.key.length)){var _options$show3;null===(_options$show3=options.show)||void 0===_options$show3?void 0:_options$show3.call(options)}null===(_compositeHTMLProps$o2=compositeHTMLProps.onKeyDown)||void 0===_compositeHTMLProps$o2?void 0:
_compositeHTMLProps$o2.call(compositeHTMLProps,event)}},[options.currentId,options.show,compositeHTMLProps.onKeyDown]);return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},compositeHTMLProps),{},{onKeyDownCapture:htmlOnKeyDownCapture,onKeyDown:htmlOnKeyDown,onKeyUp})}});global=global.createComponent({as:"input",memo:!0,useHook:require});exports.unstable_Combobox=global;exports.unstable_useCombobox=require}
//# sourceMappingURL=module$node_modules$reakit$lib$Combobox$Combobox.js.map
