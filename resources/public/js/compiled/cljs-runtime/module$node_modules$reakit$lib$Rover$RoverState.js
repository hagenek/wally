shadow$provide.module$node_modules$reakit$lib$Rover$RoverState=function(global,require,module,exports){function reducer(state,action){var stops=state.stops,currentId=state.currentId,pastId=state.unstable_pastId,moves=state.unstable_moves,loop=state.loop;switch(action.type){case "register":var _id=action.id,_ref=action.ref;if(0===stops.length)return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},state),{},{stops:[{id:_id,ref:_ref}]});if(0<=stops.findIndex(function(stop){return stop.id===
_id}))return state;pastId=stops.findIndex(function(stop){return stop.ref.current&&_ref.current?!!(stop.ref.current.compareDocumentPosition(_ref.current)&Node.DOCUMENT_POSITION_PRECEDING):!1});return-1===pastId?_rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},state),{},{stops:[].concat(stops,[{id:_id,ref:_ref}])}):_rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},state),{},{stops:[].concat(stops.slice(0,pastId),[{id:_id,ref:_ref}],
stops.slice(pastId))});case "unregister":var _id2=action.id;loop=stops.filter(function(stop){return stop.id!==_id2});return loop.length===stops.length?state:_rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},state),{},{stops:loop,unstable_pastId:pastId&&pastId===_id2?null:pastId,currentId:currentId&&currentId===_id2?null:currentId});case "move":var _id3=action.id;pastId=action.silent?moves:moves+1;if(null===_id3)return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},
state),{},{currentId:null,unstable_pastId:currentId,unstable_moves:pastId});loop=stops.findIndex(function(stop){return stop.id===_id3});return-1===loop?state:stops[loop].id===currentId?_rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},state),{},{unstable_moves:pastId}):_rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},state),{},{currentId:stops[loop].id,unstable_pastId:currentId,unstable_moves:pastId});case "next":if(null==currentId)return reducer(state,
{type:"move",id:stops[0]&&stops[0].id});pastId=stops.findIndex(function(stop){return stop.id===currentId});stops=[].concat(stops.slice(pastId+1),loop?stops.slice(0,pastId):[]);pastId=stops.findIndex(function(stop){return stop.id===currentId})+1;return reducer(state,{type:"move",id:stops[pastId]&&stops[pastId].id});case "previous":return stops=reducer(_rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},state),{},{stops:stops.slice().reverse()}),{type:"next"}),stops=
_rollupPluginBabelHelpers._objectWithoutPropertiesLoose(stops,["stops"]),_rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},state),stops);case "first":return stops=stops[0],reducer(state,{type:"move",id:stops&&stops.id});case "last":return stops=stops[stops.length-1],reducer(state,{type:"move",id:stops&&stops.id});case "reset":return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},state),{},{currentId:null,unstable_pastId:null});
case "orientate":return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},state),{},{orientation:action.orientation});default:throw Error();}}function useAction(fn){return React.useCallback(fn,[])}Object.defineProperty(exports,"__esModule",{value:!0});var _rollupPluginBabelHelpers=require("module$node_modules$reakit$lib$_rollupPluginBabelHelpers_8f9a8751"),React=require("module$node_modules$react$index"),useSealedState=require("module$node_modules$reakit_utils$lib$useSealedState");
require("module$node_modules$reakit$lib$Id$IdProvider");var Id_IdState=require("module$node_modules$reakit$lib$Id$IdState");exports.useRoverState=function(initialState){void 0===initialState&&(initialState={});var _useSealedState=useSealedState.useSealedState(initialState);initialState=_useSealedState.orientation;var _useSealedState$curre=_useSealedState.currentId;_useSealedState$curre=void 0===_useSealedState$curre?null:_useSealedState$curre;var _useSealedState$loop=_useSealedState.loop;_useSealedState$loop=
void 0===_useSealedState$loop?!1:_useSealedState$loop;_useSealedState=_rollupPluginBabelHelpers._objectWithoutPropertiesLoose(_useSealedState,["orientation","currentId","loop"]);_useSealedState$curre=React.useReducer(reducer,{orientation:initialState,stops:[],currentId:_useSealedState$curre,unstable_pastId:null,unstable_moves:0,loop:_useSealedState$loop});initialState=_useSealedState$curre[0];var dispatch=_useSealedState$curre[1];_useSealedState=Id_IdState.unstable_useIdState(_useSealedState);return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},
_useSealedState),initialState),{},{register:useAction(function(id,ref){return dispatch({type:"register",id,ref})}),unregister:useAction(function(id){return dispatch({type:"unregister",id})}),move:useAction(function(id,silent){return dispatch({type:"move",id,silent})}),next:useAction(function(){return dispatch({type:"next"})}),previous:useAction(function(){return dispatch({type:"previous"})}),first:useAction(function(){return dispatch({type:"first"})}),last:useAction(function(){return dispatch({type:"last"})}),
unstable_reset:useAction(function(){return dispatch({type:"reset"})}),unstable_orientate:useAction(function(o){return dispatch({type:"orientate",orientation:o})})})}}
//# sourceMappingURL=module$node_modules$reakit$lib$Rover$RoverState.js.map
