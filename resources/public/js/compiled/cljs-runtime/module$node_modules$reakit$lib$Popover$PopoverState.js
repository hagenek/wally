shadow$provide.module$node_modules$reakit$lib$Popover$PopoverState=function(global,require,module,exports){function applyStyles(styles){return function(prevStyles){return styles&&!shallowEqual.shallowEqual(prevStyles,styles)?styles:prevStyles}}Object.defineProperty(exports,"__esModule",{value:!0});var _rollupPluginBabelHelpers=require("module$node_modules$reakit$lib$_rollupPluginBabelHelpers_8f9a8751"),shallowEqual=require("module$node_modules$reakit_utils$lib$shallowEqual"),React=require("module$node_modules$react$index");
require("module$node_modules$reakit_warning$lib$index");var useIsomorphicEffect=require("module$node_modules$reakit_utils$lib$useIsomorphicEffect");global=require("module$node_modules$reakit_utils$lib$dom");var useSealedState=require("module$node_modules$reakit_utils$lib$useSealedState");require("module$node_modules$reakit$lib$Id$IdProvider");require("module$node_modules$reakit$lib$Id$IdState");var core=require("module$node_modules$$popperjs$core$dist$cjs$popper");require("module$node_modules$reakit$lib$Disclosure$DisclosureState");
var Dialog_DialogState=require("module$node_modules$reakit$lib$Dialog$DialogState"),isSafari=global.isUA("Mac")&&!global.isUA("Chrome")&&global.isUA("Safari");exports.usePopoverState=function(initialState){void 0===initialState&&(initialState={});var _useSealedState=useSealedState.useSealedState(initialState);initialState=_useSealedState.gutter;initialState=void 0===initialState?12:initialState;var _useSealedState$place=_useSealedState.placement,sealedPlacement=void 0===_useSealedState$place?"bottom":
_useSealedState$place;_useSealedState$place=_useSealedState.unstable_flip;var flip=void 0===_useSealedState$place?!0:_useSealedState$place,sealedOffset=_useSealedState.unstable_offset;_useSealedState$place=_useSealedState.unstable_preventOverflow;var preventOverflow=void 0===_useSealedState$place?!0:_useSealedState$place;_useSealedState$place=_useSealedState.unstable_fixed;var fixed=void 0===_useSealedState$place?!1:_useSealedState$place;_useSealedState$place=_useSealedState.modal;_useSealedState$place=
void 0===_useSealedState$place?!1:_useSealedState$place;_useSealedState=_rollupPluginBabelHelpers._objectWithoutPropertiesLoose(_useSealedState,"gutter placement unstable_flip unstable_offset unstable_preventOverflow unstable_fixed modal".split(" "));var popper=React.useRef(null),referenceRef=React.useRef(null),popoverRef=React.useRef(null),arrowRef=React.useRef(null),_React$useState=React.useState(sealedPlacement),originalPlacement=_React$useState[0];_React$useState=_React$useState[1];var _React$useState2=
React.useState(sealedPlacement);sealedPlacement=_React$useState2[0];var setPlacement=_React$useState2[1],offset=React.useState(sealedOffset||[0,initialState])[0];sealedOffset=React.useState({position:"fixed",left:"100%",top:"100%"});initialState=sealedOffset[0];var setPopoverStyles=sealedOffset[1];_React$useState2=React.useState({});sealedOffset=_React$useState2[0];var setArrowStyles=_React$useState2[1],dialog=Dialog_DialogState.useDialogState(_rollupPluginBabelHelpers._objectSpread2({modal:_useSealedState$place},
_useSealedState));_useSealedState$place=React.useCallback(function(){return popper.current?(popper.current.forceUpdate(),!0):!1},[]);var updateState=React.useCallback(function(state){state.placement&&setPlacement(state.placement);state.styles&&(setPopoverStyles(applyStyles(state.styles.popper)),arrowRef.current&&setArrowStyles(applyStyles(state.styles.arrow)))},[]);useIsomorphicEffect.useIsomorphicEffect(function(){referenceRef.current&&popoverRef.current&&(popper.current=core.createPopper(referenceRef.current,
popoverRef.current,{placement:originalPlacement,strategy:fixed?"fixed":"absolute",onFirstUpdate:isSafari?updateState:void 0,modifiers:[{name:"eventListeners",enabled:dialog.visible},{name:"applyStyles",enabled:!1},{name:"flip",enabled:flip,options:{padding:8}},{name:"offset",options:{offset}},{name:"preventOverflow",enabled:preventOverflow,options:{tetherOffset:function(){var _arrowRef$current;return(null===(_arrowRef$current=arrowRef.current)||void 0===_arrowRef$current?void 0:_arrowRef$current.clientWidth)||
0}}},{name:"arrow",enabled:!!arrowRef.current,options:{element:arrowRef.current}},{name:"updateState",phase:"write",requires:["computeStyles"],enabled:dialog.visible&&!0,fn:function(_ref){return updateState(_ref.state)}}]}));return function(){popper.current&&(popper.current.destroy(),popper.current=null)}},[originalPlacement,fixed,dialog.visible,flip,offset,preventOverflow]);React.useEffect(function(){if(dialog.visible){var id=window.requestAnimationFrame(function(){var _popper$current;null===(_popper$current=
popper.current)||void 0===_popper$current?void 0:_popper$current.forceUpdate()});return function(){window.cancelAnimationFrame(id)}}},[dialog.visible]);return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},dialog),{},{unstable_referenceRef:referenceRef,unstable_popoverRef:popoverRef,unstable_arrowRef:arrowRef,unstable_popoverStyles:initialState,unstable_arrowStyles:sealedOffset,unstable_update:_useSealedState$place,unstable_originalPlacement:originalPlacement,
placement:sealedPlacement,place:_React$useState})}}
//# sourceMappingURL=module$node_modules$reakit$lib$Popover$PopoverState.js.map
