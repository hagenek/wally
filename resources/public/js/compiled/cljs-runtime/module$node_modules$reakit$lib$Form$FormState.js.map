{
"version":3,
"file":"module$node_modules$reakit$lib$Form$FormState.js",
"lineCount":16,
"mappings":"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",
"sources":["node_modules/reakit/lib/Form/FormState.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$reakit$lib$Form$FormState\"] = function(global,require,module,exports) {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar _rollupPluginBabelHelpers = require('../_rollupPluginBabelHelpers-8f9a8751.js');\nvar React = require('react');\nvar useLiveRef = require('reakit-utils/useLiveRef');\nvar useSealedState = require('reakit-utils/useSealedState');\nvar useUpdateEffect = require('reakit-utils/useUpdateEffect');\nrequire('../Id/IdProvider.js');\nvar Id_IdState = require('../Id/IdState.js');\nvar isEmpty = require('reakit-utils/isEmpty');\nvar Form_utils_getIn = require('./utils/getIn.js');\nvar isPromise = require('reakit-utils/isPromise');\nvar isPlainObject = require('reakit-utils/isPlainObject');\nvar isObject = require('reakit-utils/isObject');\nvar Form_utils_setAllIn = require('./utils/setAllIn.js');\nrequire('reakit-utils/toArray');\nrequire('reakit-utils/isInteger');\nvar Form_utils_setIn = require('./utils/setIn.js');\n\nfunction filterAllEmpty(object) {\n  if (Array.isArray(object)) {\n    return object.filter(function (value) {\n      if (isPlainObject.isPlainObject(value) || Array.isArray(value)) {\n        return filterAllEmpty(value);\n      }\n\n      return true;\n    });\n  }\n\n  var result = {};\n  var keys = Object.keys(object);\n\n  for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {\n    var key = _keys[_i];\n    var k = key;\n    var value = object[k];\n    result[k] = isPlainObject.isPlainObject(value) || Array.isArray(value) ? filterAllEmpty(value) : object[k];\n  }\n\n  return result;\n}\n\nfunction hasMessages(errors) {\n  return isObject.isObject(errors) && !isEmpty.isEmpty(errors);\n}\n\nfunction getMessages(stateMessages, actionMessages) {\n  return !isEmpty.isEmpty(actionMessages) ? actionMessages : isEmpty.isEmpty(stateMessages) ? stateMessages : {};\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"reset\":\n      {\n        return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, state), {}, {\n          values: state.initialValues,\n          touched: {},\n          errors: {},\n          messages: {},\n          valid: true,\n          validating: false,\n          submitting: false,\n          submitFailed: 0,\n          submitSucceed: 0\n        });\n      }\n\n    case \"startValidate\":\n      {\n        return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, state), {}, {\n          validating: true\n        });\n      }\n\n    case \"endValidate\":\n      {\n        return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, state), {}, {\n          validating: false,\n          errors: getMessages(state.errors, action.errors),\n          messages: getMessages(state.messages, action.messages),\n          valid: !hasMessages(action.errors)\n        });\n      }\n\n    case \"startSubmit\":\n      {\n        return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, state), {}, {\n          // @ts-ignore TS bug\n          touched: Form_utils_setAllIn.unstable_setAllIn(state.values, true),\n          submitting: true\n        });\n      }\n\n    case \"endSubmit\":\n      {\n        var valid = !hasMessages(action.errors);\n        return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, state), {}, {\n          valid: valid,\n          submitting: false,\n          errors: getMessages(state.errors, action.errors),\n          messages: getMessages(state.messages, action.messages),\n          submitSucceed: valid ? state.submitSucceed + 1 : state.submitSucceed,\n          submitFailed: valid ? state.submitFailed : state.submitFailed + 1\n        });\n      }\n\n    case \"update\":\n      {\n        var _name = action.name,\n            _value = action.value;\n        var nextValue = typeof _value === \"function\" ? _value(Form_utils_getIn.unstable_getIn(state.values, _name)) : _value;\n        return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, state), {}, {\n          values: Form_utils_setIn.unstable_setIn(state.values, _name, nextValue != null ? nextValue : \"\")\n        });\n      }\n\n    case \"blur\":\n      {\n        return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, state), {}, {\n          touched: Form_utils_setIn.unstable_setIn(state.touched, action.name, true)\n        });\n      }\n\n    case \"push\":\n      {\n        var array = Form_utils_getIn.unstable_getIn(state.values, action.name, []);\n        return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, state), {}, {\n          values: Form_utils_setIn.unstable_setIn(state.values, action.name, [].concat(array, [action.value]))\n        });\n      }\n\n    case \"remove\":\n      {\n        var _array = Form_utils_getIn.unstable_getIn(state.values, action.name, []).slice();\n\n        delete _array[action.index];\n        return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, state), {}, {\n          values: Form_utils_setIn.unstable_setIn(state.values, action.name, _array)\n        });\n      }\n\n    default:\n      {\n        throw new Error();\n      }\n  }\n}\n\nfunction unstable_useFormState(initialState) {\n  if (initialState === void 0) {\n    initialState = {};\n  }\n\n  var _useSealedState = useSealedState.useSealedState(initialState),\n      _useSealedState$value = _useSealedState.values,\n      initialValues = _useSealedState$value === void 0 ? {} : _useSealedState$value,\n      _useSealedState$valid = _useSealedState.validateOnBlur,\n      validateOnBlur = _useSealedState$valid === void 0 ? true : _useSealedState$valid,\n      _useSealedState$valid2 = _useSealedState.validateOnChange,\n      validateOnChange = _useSealedState$valid2 === void 0 ? true : _useSealedState$valid2,\n      _useSealedState$reset = _useSealedState.resetOnSubmitSucceed,\n      resetOnSubmitSucceed = _useSealedState$reset === void 0 ? false : _useSealedState$reset,\n      _useSealedState$reset2 = _useSealedState.resetOnUnmount,\n      resetOnUnmount = _useSealedState$reset2 === void 0 ? true : _useSealedState$reset2,\n      onValidate = _useSealedState.onValidate,\n      onSubmit = _useSealedState.onSubmit,\n      sealed = _rollupPluginBabelHelpers._objectWithoutPropertiesLoose(_useSealedState, [\"values\", \"validateOnBlur\", \"validateOnChange\", \"resetOnSubmitSucceed\", \"resetOnUnmount\", \"onValidate\", \"onSubmit\"]);\n\n  var onValidateRef = useLiveRef.useLiveRef(typeof initialState !== \"function\" ? initialState.onValidate : onValidate);\n  var onSubmitRef = useLiveRef.useLiveRef(typeof initialState !== \"function\" ? initialState.onSubmit : onSubmit);\n  var id = Id_IdState.unstable_useIdState(sealed);\n\n  var _React$useReducer = React.useReducer(reducer, {\n    initialValues: initialValues,\n    values: initialValues,\n    touched: {},\n    errors: {},\n    messages: {},\n    valid: true,\n    validating: false,\n    submitting: false,\n    submitFailed: 0,\n    submitSucceed: 0\n  }),\n      _React$useReducer$ = _React$useReducer[0],\n      _ = _React$useReducer$.initialValues,\n      state = _rollupPluginBabelHelpers._objectWithoutPropertiesLoose(_React$useReducer$, [\"initialValues\"]),\n      dispatch = _React$useReducer[1];\n\n  var validate = React.useCallback(function (vals) {\n    if (vals === void 0) {\n      vals = state.values;\n    }\n\n    return new Promise(function (resolve) {\n      if (onValidateRef.current) {\n        var response = onValidateRef.current(vals);\n\n        if (isPromise.isPromise(response)) {\n          dispatch({\n            type: \"startValidate\"\n          });\n        }\n\n        resolve(Promise.resolve(response).then(function (messages) {\n          dispatch({\n            type: \"endValidate\",\n            messages: messages\n          });\n          return messages;\n        }));\n      } else {\n        resolve(undefined);\n      }\n    }).catch(function (errors) {\n      dispatch({\n        type: \"endValidate\",\n        errors: errors\n      });\n      throw errors;\n    });\n  }, [state.values]);\n  useUpdateEffect.useUpdateEffect(function () {\n    if (validateOnChange) {\n      validate().catch(function () {});\n    }\n  }, [validate, validateOnChange]);\n  React.useEffect(function () {\n    if (resetOnUnmount) {\n      return function () {\n        dispatch({\n          type: \"reset\"\n        });\n      };\n    }\n\n    return undefined;\n  }, [resetOnUnmount]);\n  return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, id), state), {}, {\n    values: state.values,\n    validate: validate,\n    reset: React.useCallback(function () {\n      return dispatch({\n        type: \"reset\"\n      });\n    }, []),\n    submit: React.useCallback(function () {\n      dispatch({\n        type: \"startSubmit\"\n      });\n      return validate().then(function (validateMessages) {\n        if (onSubmitRef.current) {\n          return Promise.resolve(onSubmitRef.current(filterAllEmpty(state.values))).then(function (submitMessages) {\n            var messages = _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({}, validateMessages), submitMessages);\n\n            dispatch({\n              type: \"endSubmit\",\n              messages: messages\n            });\n          });\n        }\n\n        return dispatch({\n          type: \"endSubmit\",\n          messages: validateMessages\n        });\n      }).then(function () {\n        if (resetOnSubmitSucceed) {\n          dispatch({\n            type: \"reset\"\n          });\n        }\n      }).catch(function (errors) {\n        dispatch({\n          type: \"endSubmit\",\n          errors: errors\n        });\n      });\n    }, [validate]),\n    update: React.useCallback(function (name, value) {\n      return dispatch({\n        type: \"update\",\n        name: name,\n        value: value\n      });\n    }, []),\n    blur: React.useCallback(function (name) {\n      dispatch({\n        type: \"blur\",\n        name: name\n      });\n\n      if (validateOnBlur) {\n        validate().catch(function () {});\n      }\n    }, [validate]),\n    push: React.useCallback(function (name, value) {\n      return dispatch({\n        type: \"push\",\n        name: name,\n        value: value\n      });\n    }, []),\n    remove: React.useCallback(function (name, index) {\n      return dispatch({\n        type: \"remove\",\n        name: name,\n        index: index\n      });\n    }, [])\n  });\n}\n\nexports.unstable_useFormState = unstable_useFormState;\n\n};"],
"names":["shadow$provide","global","require","module","exports","filterAllEmpty","object","Array","isArray","filter","value","isPlainObject","result","_i","_keys","Object","keys","length","k","key","hasMessages","errors","isObject","isEmpty","getMessages","stateMessages","actionMessages","reducer","state","action","type","_rollupPluginBabelHelpers","_objectSpread2","values","initialValues","touched","messages","valid","validating","submitting","submitFailed","submitSucceed","Form_utils_setAllIn","unstable_setAllIn","_name","name","_value","nextValue","Form_utils_getIn","unstable_getIn","Form_utils_setIn","unstable_setIn","array","concat","_array","slice","index","Error","defineProperty","React","useLiveRef","useSealedState","useUpdateEffect","Id_IdState","isPromise","unstable_useFormState","initialState","_useSealedState","_useSealedState$value","_useSealedState$valid","validateOnBlur","_useSealedState$valid2","validateOnChange","_useSealedState$reset","resetOnSubmitSucceed","_useSealedState$reset2","resetOnUnmount","onValidate","onSubmit","sealed","_objectWithoutPropertiesLoose","onValidateRef","onSubmitRef","id","unstable_useIdState","_React$useReducer","useReducer","_React$useReducer$","dispatch","validate","useCallback","vals","catch","Promise","resolve","current","response","then","undefined","useEffect","reset","submit","validateMessages","submitMessages","update","blur","push","remove"]
}
