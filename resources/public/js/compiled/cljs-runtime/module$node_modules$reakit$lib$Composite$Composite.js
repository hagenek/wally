shadow$provide.module$node_modules$reakit$lib$Composite$Composite=function(global,require,module,exports){function useKeyboardEventProxy(virtual,currentItem,htmlEventHandler){var eventHandlerRef=useLiveRef.useLiveRef(htmlEventHandler);return React.useCallback(function(event){var _eventHandlerRef$curr;null===(_eventHandlerRef$curr=eventHandlerRef.current)||void 0===_eventHandlerRef$curr?void 0:_eventHandlerRef$curr.call(eventHandlerRef,event);if(_eventHandlerRef$curr=!event.defaultPrevented)if(_eventHandlerRef$curr=
virtual)_eventHandlerRef$curr=!isSelfTarget.isSelfTarget(event)||event.metaKey||"Tab"===event.key?!1:!0;_eventHandlerRef$curr&&(_eventHandlerRef$curr=null===currentItem||void 0===currentItem?void 0:currentItem.ref.current)&&(fireKeyboardEvent.fireKeyboardEvent(_eventHandlerRef$curr,event.type,event)||event.preventDefault(),event.currentTarget.contains(_eventHandlerRef$curr)&&event.stopPropagation())},[virtual,currentItem])}function useActiveElementRef(elementRef){var activeElementRef=React.useRef(null);
React.useEffect(function(){var document=getDocument.getDocument(elementRef.current),onFocus=function(event){activeElementRef.current=event.target};document.addEventListener("focus",onFocus,!0);return function(){document.removeEventListener("focus",onFocus,!0)}},[]);return activeElementRef}function isItem(items,element){return null===items||void 0===items?void 0:items.some(function(item){return!!element&&item.ref.current===element})}function useScheduleUserFocus(currentItem){var currentItemRef=useLiveRef.useLiveRef(currentItem);
currentItem=React.useReducer(function(n){return n+1},0);var scheduled=currentItem[0];currentItem=currentItem[1];React.useEffect(function(){var _currentItemRef$curre,currentElement=null===(_currentItemRef$curre=currentItemRef.current)||void 0===_currentItemRef$curre?void 0:_currentItemRef$curre.ref.current;scheduled&&currentElement&&userFocus.userFocus(currentElement)},[scheduled]);return currentItem}Object.defineProperty(exports,"__esModule",{value:!0});var _rollupPluginBabelHelpers=require("module$node_modules$reakit$lib$_rollupPluginBabelHelpers_8f9a8751");
global=require("module$node_modules$reakit_system$lib$createComponent");module=require("module$node_modules$reakit_system$lib$createHook");require("module$node_modules$reakit_utils$lib$shallowEqual");var React=require("module$node_modules$react$index"),useForkRef=require("module$node_modules$reakit_utils$lib$useForkRef");require("module$node_modules$reakit_utils$lib$isButton");var reakitWarning=require("module$node_modules$reakit_warning$lib$index"),useLiveRef=require("module$node_modules$reakit_utils$lib$useLiveRef"),
isSelfTarget=require("module$node_modules$reakit_utils$lib$isSelfTarget");require("module$node_modules$reakit_utils$lib$useIsomorphicEffect");require("module$node_modules$reakit_utils$lib$hasFocusWithin");require("module$node_modules$reakit_utils$lib$isPortalEvent");require("module$node_modules$reakit_utils$lib$dom");require("module$node_modules$reakit_utils$lib$tabbable");var Role_Role=require("module$node_modules$reakit$lib$Role$Role"),Tabbable_Tabbable=require("module$node_modules$reakit$lib$Tabbable$Tabbable"),
useCreateElement=require("module$node_modules$reakit_system$lib$useCreateElement"),getDocument=require("module$node_modules$reakit_utils$lib$getDocument"),fireBlurEvent=require("module$node_modules$reakit_utils$lib$fireBlurEvent"),fireKeyboardEvent=require("module$node_modules$reakit_utils$lib$fireKeyboardEvent"),canUseDOM=require("module$node_modules$reakit_utils$lib$canUseDOM"),getNextActiveElementOnBlur=require("module$node_modules$reakit_utils$lib$getNextActiveElementOnBlur"),reverse=require("module$node_modules$reakit$lib$reverse_4756a49e"),
getCurrentId=require("module$node_modules$reakit$lib$getCurrentId_eade2850"),findEnabledItemById=require("module$node_modules$reakit$lib$findEnabledItemById_03112678"),__keys=require("module$node_modules$reakit$lib$__keys_3b597476"),userFocus=require("module$node_modules$reakit$lib$userFocus_0afea51a"),isIE11=canUseDOM.canUseDOM&&"msCrypto"in window;require=module.createHook({name:"Composite",compose:[Tabbable_Tabbable.useTabbable],keys:__keys.COMPOSITE_KEYS,useOptions:function(options){return _rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},
options),{},{currentId:getCurrentId.getCurrentId(options)})},useProps:function(options,_ref){var htmlRef=_ref.ref,htmlOnFocusCapture=_ref.onFocusCapture,htmlOnFocus=_ref.onFocus,htmlOnBlurCapture=_ref.onBlurCapture,htmlOnKeyDown=_ref.onKeyDown,htmlOnKeyDownCapture=_ref.onKeyDownCapture,htmlOnKeyUpCapture=_ref.onKeyUpCapture;_ref=_rollupPluginBabelHelpers._objectWithoutPropertiesLoose(_ref,"ref onFocusCapture onFocus onBlurCapture onKeyDown onKeyDownCapture onKeyUpCapture".split(" "));var ref=React.useRef(null),
currentItem=findEnabledItemById.findEnabledItemById(options.items,options.currentId),previousElementRef=React.useRef(null),onFocusCaptureRef=useLiveRef.useLiveRef(htmlOnFocusCapture),onFocusRef=useLiveRef.useLiveRef(htmlOnFocus),onBlurCaptureRef=useLiveRef.useLiveRef(htmlOnBlurCapture),onKeyDownRef=useLiveRef.useLiveRef(htmlOnKeyDown),scheduleUserFocus=useScheduleUserFocus(currentItem),activeElementRef=isIE11?useActiveElementRef(ref):void 0;React.useEffect(function(){var element=ref.current;options.unstable_moves&&
!currentItem&&(reakitWarning.warning(!element,"Can't focus composite component because `ref` wasn't passed to component.","See https://reakit.io/docs/composite"),null===element||void 0===element?void 0:element.focus())},[options.unstable_moves,currentItem]);htmlOnFocusCapture=useKeyboardEventProxy(options.unstable_virtual,currentItem,htmlOnKeyDownCapture);htmlOnKeyUpCapture=useKeyboardEventProxy(options.unstable_virtual,currentItem,htmlOnKeyUpCapture);htmlOnFocus=React.useCallback(function(event){var _onFocusCaptureRef$cu;
null===(_onFocusCaptureRef$cu=onFocusCaptureRef.current)||void 0===_onFocusCaptureRef$cu?void 0:_onFocusCaptureRef$cu.call(onFocusCaptureRef,event);if(!event.defaultPrevented&&options.unstable_virtual){_onFocusCaptureRef$cu=(null===activeElementRef||void 0===activeElementRef?void 0:activeElementRef.current)||event.relatedTarget;var previousActiveElementWasItem=isItem(options.items,_onFocusCaptureRef$cu);isSelfTarget.isSelfTarget(event)&&previousActiveElementWasItem&&(event.stopPropagation(),previousElementRef.current=
_onFocusCaptureRef$cu)}},[options.unstable_virtual,options.items]);htmlOnBlurCapture=React.useCallback(function(event){var _onFocusRef$current;null===(_onFocusRef$current=onFocusRef.current)||void 0===_onFocusRef$current?void 0:_onFocusRef$current.call(onFocusRef,event);if(!event.defaultPrevented)if(options.unstable_virtual)isSelfTarget.isSelfTarget(event)&&scheduleUserFocus();else if(isSelfTarget.isSelfTarget(event)){var _options$setCurrentId;null===(_options$setCurrentId=options.setCurrentId)||
void 0===_options$setCurrentId?void 0:_options$setCurrentId.call(options,null)}},[options.unstable_virtual,options.setCurrentId]);htmlOnKeyDown=React.useCallback(function(event){var _onBlurCaptureRef$cur;null===(_onBlurCaptureRef$cur=onBlurCaptureRef.current)||void 0===_onBlurCaptureRef$cur?void 0:_onBlurCaptureRef$cur.call(onBlurCaptureRef,event);if(!event.defaultPrevented&&options.unstable_virtual){_onBlurCaptureRef$cur=(null===currentItem||void 0===currentItem?void 0:currentItem.ref.current)||
null;var nextActiveElement=getNextActiveElementOnBlur.getNextActiveElementOnBlur(event),nextActiveElementIsItem=isItem(options.items,nextActiveElement);isSelfTarget.isSelfTarget(event)&&nextActiveElementIsItem?(nextActiveElement===_onBlurCaptureRef$cur?previousElementRef.current&&previousElementRef.current!==nextActiveElement&&fireBlurEvent.fireBlurEvent(previousElementRef.current,event):_onBlurCaptureRef$cur&&fireBlurEvent.fireBlurEvent(_onBlurCaptureRef$cur,event),event.stopPropagation()):!isItem(options.items,
event.target)&&_onBlurCaptureRef$cur&&fireBlurEvent.fireBlurEvent(_onBlurCaptureRef$cur,event)}},[options.unstable_virtual,options.items,currentItem]);htmlOnKeyDownCapture=React.useCallback(function(event){var _onKeyDownRef$current,_options$groups;null===(_onKeyDownRef$current=onKeyDownRef.current)||void 0===_onKeyDownRef$current?void 0:_onKeyDownRef$current.call(onKeyDownRef,event);if(!event.defaultPrevented&&null===options.currentId&&isSelfTarget.isSelfTarget(event)){_onKeyDownRef$current="horizontal"!==
options.orientation;var isHorizontal="vertical"!==options.orientation,isGrid=!(null===(_options$groups=options.groups)||void 0===_options$groups||!_options$groups.length);_options$groups=function(){if(isGrid){var item=getCurrentId.findFirstEnabledItem(reverse.flatten(reverse.reverse(reverse.groupItems(options.items))));if(null!==item&&void 0!==item&&item.id){var _options$move;null===(_options$move=options.move)||void 0===_options$move?void 0:_options$move.call(options,item.id)}}else null===(item=
options.last)||void 0===item?void 0:item.call(options)};if(_options$groups={ArrowUp:(isGrid||_onKeyDownRef$current)&&_options$groups,ArrowRight:(isGrid||isHorizontal)&&options.first,ArrowDown:(isGrid||_onKeyDownRef$current)&&options.first,ArrowLeft:(isGrid||isHorizontal)&&options.last,Home:options.first,End:options.last,PageUp:options.first,PageDown:options.last}[event.key])event.preventDefault(),_options$groups()}},[options.currentId,options.orientation,options.groups,options.items,options.move,
options.last,options.first]);return _rollupPluginBabelHelpers._objectSpread2({ref:useForkRef.useForkRef(ref,htmlRef),id:options.baseId,onFocus:htmlOnBlurCapture,onFocusCapture:htmlOnFocus,onBlurCapture:htmlOnKeyDown,onKeyDownCapture:htmlOnFocusCapture,onKeyDown:htmlOnKeyDownCapture,onKeyUpCapture:htmlOnKeyUpCapture,"aria-activedescendant":options.unstable_virtual?(null===currentItem||void 0===currentItem?void 0:currentItem.id)||void 0:void 0},_ref)},useComposeProps:function(options,htmlProps){htmlProps=
Role_Role.useRole(options,htmlProps,!0);var tabbableHTMLProps=Tabbable_Tabbable.useTabbable(options,htmlProps,!0);return options.unstable_virtual||null===options.currentId?_rollupPluginBabelHelpers._objectSpread2({tabIndex:0},tabbableHTMLProps):_rollupPluginBabelHelpers._objectSpread2(_rollupPluginBabelHelpers._objectSpread2({},htmlProps),{},{ref:tabbableHTMLProps.ref})}});global=global.createComponent({as:"div",useHook:require,useCreateElement:function(type,props,children){reakitWarning.useWarning(!props["aria-label"]&&
!props["aria-labelledby"],"You should provide either `aria-label` or `aria-labelledby` props.","See https://reakit.io/docs/composite");return useCreateElement.useCreateElement(type,props,children)}});exports.Composite=global;exports.useComposite=require}
//# sourceMappingURL=module$node_modules$reakit$lib$Composite$Composite.js.map
